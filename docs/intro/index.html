<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-intro">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">前言 | 《从零实现Kubernetes自定义控制器》</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://caozhuozi.github.io/crd-controller-from-scratch/img/logo.png"><meta data-rh="true" name="twitter:image" content="https://caozhuozi.github.io/crd-controller-from-scratch/img/logo.png"><meta data-rh="true" property="og:url" content="https://caozhuozi.github.io/crd-controller-from-scratch/docs/intro"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="前言 | 《从零实现Kubernetes自定义控制器》"><meta data-rh="true" name="description" content="写在前面"><meta data-rh="true" property="og:description" content="写在前面"><link data-rh="true" rel="icon" href="/crd-controller-from-scratch/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://caozhuozi.github.io/crd-controller-from-scratch/docs/intro"><link data-rh="true" rel="alternate" href="https://caozhuozi.github.io/crd-controller-from-scratch/docs/intro" hreflang="en"><link data-rh="true" rel="alternate" href="https://caozhuozi.github.io/crd-controller-from-scratch/docs/intro" hreflang="x-default"><link rel="stylesheet" href="/crd-controller-from-scratch/assets/css/styles.37df9119.css">
<link rel="preload" href="/crd-controller-from-scratch/assets/js/runtime~main.56e28771.js" as="script">
<link rel="preload" href="/crd-controller-from-scratch/assets/js/main.66bc2718.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#e6f6e6;color:#5f805b" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">🥳v0.6.0-rc2 is released.🎉</div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/crd-controller-from-scratch/"><div class="navbar__logo"><img src="/crd-controller-from-scratch/img/logo.png" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/crd-controller-from-scratch/img/logo.png" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/crd-controller-from-scratch/docs/intro">开始</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/caozhuozi/crd-controller-from-scratch" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/crd-controller-from-scratch/docs/intro">前言</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/crd-controller-from-scratch/docs/apimachinery/apimachinery">apimachinery</a><button aria-label="Toggle the collapsible sidebar category &#x27;apimachinery&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/crd-controller-from-scratch/docs/client-go/client-go">client-go</a><button aria-label="Toggle the collapsible sidebar category &#x27;client-go&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/crd-controller-from-scratch/docs/putting-it-all-together/putting-it-all-together">putting it all together</a><button aria-label="Toggle the collapsible sidebar category &#x27;putting it all together&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/crd-controller-from-scratch/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">前言</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>前言</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="写在前面">写在前面<a href="#写在前面" class="hash-link" aria-label="Direct link to 写在前面" title="Direct link to 写在前面">​</a></h2><blockquote><p>Hello! 谢谢你愿意与我一起度过一段时光。</p><p>我并不是一个善于写作的人，生活中也会出现因为用错成语而引起误会的糗事。
写书对我来说是一件困难的事情，不管是章节编排，叙事顺序或者代码的难易程度，每一点都会影响到知识的传达和读者的阅读体验。
另外，我也只是一名普通的Kubernetes学习者，为了尽可能确保书中每一个论述都是正确可靠的，有时需要花费大量的时间从文档和源码中寻找答案。</p><p>但是即便如此，我总觉得把知识分享给需要的人是一件有意义的事情，哪怕可以帮助到一个人呢。生活总需要一点浪漫主义。</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="动机">动机<a href="#动机" class="hash-link" aria-label="Direct link to 动机" title="Direct link to 动机">​</a></h2><p>如果你对Kubernetes自定义控制器（Custom Controller）有所了解，
你或许已经接触过像<a href="https://kubernetes.io/blog/2018/08/10/introducing-kubebuilder-an-sdk-for-building-kubernetes-apis-using-crds/" target="_blank" rel="noopener noreferrer">kubebuilder</a>，<a href="https://sdk.operatorframework.io/" target="_blank" rel="noopener noreferrer">operator-sdk</a>
这些帮助你构建一个完备并且可用于生产的控制器框架<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup>。然而这些框架对于刚接触自定义控制器的初学者来说过于庞大和复杂，想要透过它们去真正了解自定义控制器的原理是一件十分困难的事情。</p><p>本书将在不借助任何框架以及框架本身所依赖的库<sup id="fnref-2"><a href="#fn-2" class="footnote-ref">2</a></sup>和工具<sup id="fnref-3"><a href="#fn-3" class="footnote-ref">3</a></sup>的情况下，仅依赖<a href="https://github.com/kubernetes/apimachinery" target="_blank" rel="noopener noreferrer"><code>k8s.io/apimachinery</code></a>以及<a href="https://github.com/kubernetes/client-go" target="_blank" rel="noopener noreferrer"><code>k8s.io/client-go</code></a>这两个基础库
实现一个极为简单的自定义控制器。
我们希望这本书可以成为了解和实现Kubernetes自定义控制器的<strong>入门</strong>读物。另外我们也希望这本书可以作为<a href="https://book.kubebuilder.io/" target="_blank" rel="noopener noreferrer">kubebuilder</a>的预备读物，但愿她能够帮助你更好地去理解
<a href="https://book.kubebuilder.io/" target="_blank" rel="noopener noreferrer">kubebuilder</a>以及其他更上层的控制器框架。
同时，我们希望阅读完本书的读者对实现自定义控制器的基本步骤和所需的核心模块
有一个清晰的认知，这也是我们的初衷。</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>希望你始终怀揣着这个目的来阅读：对实现自定义控制器基本步骤和核心模块要有一个清晰的认知。</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="谁适合阅读本书">谁适合阅读本书<a href="#谁适合阅读本书" class="hash-link" aria-label="Direct link to 谁适合阅读本书" title="Direct link to 谁适合阅读本书">​</a></h2><ol><li>想要知道如何<strong>基于Go</strong>实现一个Kubernetes自定义控制器的<strong>初学者</strong>；</li><li>对Go语言有一定<sup id="fnref-4"><a href="#fn-4" class="footnote-ref">4</a></sup>基础；</li><li>了解Kubernetes<sup id="fnref-5"><a href="#fn-5" class="footnote-ref">5</a></sup>以及Kubernetes <em>自定义资源（Custom Resource）</em>的相关概念<sup id="fnref-6"><a href="#fn-6" class="footnote-ref">6</a></sup>；</li><li>对client-go编程有一定<sup id="fnref-7"><a href="#fn-7" class="footnote-ref">7</a></sup>基础。</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="你还能从本书学到什么">你还能从本书学到什么<a href="#你还能从本书学到什么" class="hash-link" aria-label="Direct link to 你还能从本书学到什么" title="Direct link to 你还能从本书学到什么">​</a></h2><ol><li>与Kubernetes二次开发相关API术语的严格描述；</li><li><code>apimachiery</code>库中<ul><li>如何抽象Kubernetes API类型系统；</li><li>如何对<em>Kubernetes资源</em>序列化/反序列化；</li></ul></li><li><code>client-go</code>库中<ul><li>基础组件<code>RESTClient</code>的用法和原理；</li><li><code>Informer</code>组件的剖析；</li></ul></li><li>如何实现Kubernetes<strong>原生资源</strong>控制器。</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="本书结构">本书结构<a href="#本书结构" class="hash-link" aria-label="Direct link to 本书结构" title="Direct link to 本书结构">​</a></h2><p>本书的<a href="/crd-controller-from-scratch/docs/putting-it-all-together/putting-it-all-together">最后一章</a>才会正式介绍一个极简的自定义控制器的代码实现，在此之前的章节都可以算作是最后一章的铺垫。</p><p>具体来说，<a href="/crd-controller-from-scratch/docs/apimachinery/apimachinery">第一章</a>和<a href="/crd-controller-from-scratch/docs/client-go/client-go">第二章</a>我们会分别介绍<code>apimachinery</code>库与<code>client-go</code>库中涉及到实现控制器的理论知识和必要的组件，
<a href="/crd-controller-from-scratch/docs/putting-it-all-together/putting-it-all-together">第三章</a>的定位是&quot;putting it all together&quot;，我们不会对代码做任何讲解或者提供解释性的注释，你可以通过代码中的索引跳转到前两章中对应的知识点。
这样编排的目的是我们希望你进入<a href="/crd-controller-from-scratch/docs/putting-it-all-together/putting-it-all-together">最后一章</a>时可以理解每行代码背后的意图，真正做到知其然知其所以然。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="本书风格及约定">本书风格及约定<a href="#本书风格及约定" class="hash-link" aria-label="Direct link to 本书风格及约定" title="Direct link to 本书风格及约定">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="风格">风格<a href="#风格" class="hash-link" aria-label="Direct link to 风格" title="Direct link to 风格">​</a></h3><p>本书的一个特点是&quot;忠于文档&quot;——本书出现的术语、概念以及论述会尽可能地给出官方引用。我们所说的官方引用来源有两处：我们所说的官方引用来源有两处：
一个是Kubernetes正式发布到<a href="https://kubernetes.io/" target="_blank" rel="noopener noreferrer">kubernetes.io</a>站点的文档或博客，另一个是仅收录在Kubernetes github <a href="https://github.com/kubernetes/community" target="_blank" rel="noopener noreferrer">community仓库</a>中但未发布到站点的文档。
对于这两种文档来源我们会分别在引用处加上 &quot;<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 15"><path style="stroke:none;fill-rule:nonzero;fill:#326ce5;fill-opacity:1" d="M7.945 0c-.14.008-.28.043-.41.102L1.973 2.668c-.29.137-.5.39-.575.691L.028 9.13a.976.976 0 0 0 .202.86l3.852 4.624c.203.242.508.387.832.387l6.172-.004c.324 0 .633-.14.832-.383l3.852-4.625a.987.987 0 0 0 .203-.863l-1.375-5.766a1.01 1.01 0 0 0-.575-.691L8.461.102C8.3.027 8.12-.008 7.945 0Zm0 0"></path><path style="stroke:none;fill-rule:nonzero;fill:#fff;fill-opacity:1" d="M8 1.965c-.184 0-.332.16-.332.355v.012c0 .023-.004.059 0 .082.004.113.027.2.043.305.031.222.055.41.039.582a.382.382 0 0 1-.11.168l-.007.136c-.2.016-.403.043-.602.09a4.299 4.299 0 0 0-2.176 1.2l-.12-.082c-.06.007-.118.023-.196-.02a3.193 3.193 0 0 1-.45-.39c-.073-.079-.128-.153-.218-.227-.02-.016-.05-.04-.074-.055a.411.411 0 0 0-.235-.086.328.328 0 0 0-.265.113c-.113.141-.074.352.082.477h.008c.02.02.047.04.066.055.098.066.184.101.277.156.2.117.364.219.497.336.05.055.058.144.066.187l.105.09a4.057 4.057 0 0 0-.68 2.903l-.136.039c-.039.046-.09.117-.144.14-.172.051-.364.07-.598.094-.11.008-.203.004-.32.023a.554.554 0 0 1-.086.02l-.004.004h-.004c-.2.047-.324.219-.281.39.039.172.23.278.43.235h.007c.031-.008.063-.012.086-.02.117-.03.2-.074.3-.109.22-.078.403-.14.583-.168.074-.004.152.047.191.066l.145-.023a4.207 4.207 0 0 0 1.918 2.316l-.059.141c.02.055.047.129.027.18-.062.164-.175.336-.3.523-.059.09-.121.156-.176.258-.016.023-.031.062-.043.086-.086.18-.024.383.14.457.165.078.372-.004.458-.18h.003c.012-.027.028-.058.04-.082.046-.105.062-.195.097-.297.086-.215.137-.437.258-.578.031-.039.086-.05.145-.066l.074-.133a4.385 4.385 0 0 0 3.07.008c.024.035.063.105.074.125.055.015.117.027.168.097.09.153.153.329.23.543.032.102.048.188.094.293l.043.082c.09.18.293.262.461.184.164-.078.227-.281.141-.457-.012-.027-.031-.063-.043-.086-.055-.102-.117-.168-.18-.258-.125-.191-.23-.347-.293-.511-.027-.083.004-.133.024-.188-.012-.016-.04-.094-.055-.129a4.21 4.21 0 0 0 1.918-2.336c.043.008.117.02.145.027.05-.035.093-.074.183-.066.18.024.364.086.582.164.102.035.184.082.301.11.023.007.059.011.086.02h.004c.004 0 .004 0 .004.003.199.039.39-.066.43-.238.042-.172-.083-.344-.282-.39-.027-.009-.066-.017-.094-.024-.117-.02-.21-.016-.32-.024a3.314 3.314 0 0 1-.598-.094c-.07-.027-.12-.105-.144-.14l-.133-.04a4.065 4.065 0 0 0-.695-2.895c.035-.026.101-.085.117-.1.008-.059.004-.118.063-.18.132-.121.296-.219.496-.34.093-.05.183-.086.277-.152.023-.016.05-.043.074-.059.16-.125.195-.336.082-.472-.117-.141-.336-.153-.496-.032-.023.02-.055.04-.074.059-.09.074-.145.148-.223.223a2.991 2.991 0 0 1-.445.394c-.066.035-.16.024-.203.02l-.13.09a4.415 4.415 0 0 0-2.76-1.294 2.321 2.321 0 0 1-.009-.14c-.043-.043-.097-.074-.109-.164-.016-.172.008-.36.04-.582.015-.106.038-.192.042-.305.004-.027 0-.066 0-.094 0-.195-.148-.355-.332-.355Zm-.418 2.492-.098 1.688-.007.003a.292.292 0 0 1-.293.274.282.282 0 0 1-.172-.055h-.004l-1.434-.98a3.459 3.459 0 0 1 1.653-.867c.12-.028.238-.047.355-.063Zm.836 0a3.52 3.52 0 0 1 1.992.93l-1.422.976-.004-.004a.302.302 0 0 1-.402-.05.3.3 0 0 1-.066-.164ZM5.055 6.02l1.308 1.128v.008a.27.27 0 0 1 .035.387.28.28 0 0 1-.152.098v.007l-1.676.465a3.214 3.214 0 0 1 .485-2.093Zm5.879 0a3.262 3.262 0 0 1 .5 2.09L9.75 7.64v-.007a.282.282 0 0 1-.21-.336.306.306 0 0 1 .093-.152ZM7.73 7.234h.536l.336.403-.122.5-.48.226-.484-.226-.118-.5ZM9.45 8.61c.023 0 .046.004.066.008l.004-.004 1.734.282a3.347 3.347 0 0 1-1.39 1.683l-.673-1.57h.004c-.062-.14 0-.301.14-.367a.289.289 0 0 1 .114-.032Zm-2.915.008c.133.004.254.09.285.223a.285.285 0 0 1-.02.172l.009.008-.668 1.554a3.372 3.372 0 0 1-1.383-1.672l1.719-.285.003.004c.02-.004.04-.004.055-.004Zm1.453.68a.28.28 0 0 1 .137.031c.059.027.105.07.133.121h.008l.847 1.477a3.586 3.586 0 0 1-2.219 0l.844-1.477h.004a.29.29 0 0 1 .246-.152Zm0 0"></path></svg>&quot; 标记以及 &quot;<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 15"><path style="stroke:none;fill-rule:evenodd;fill:#24292f;fill-opacity:1" d="M7.977 0C3.567 0 0 3.438 0 7.691c0 3.399 2.285 6.278 5.453 7.293.399.079.543-.164.543-.367 0-.18-.016-.789-.016-1.426-2.218.457-2.68-.918-2.68-.918-.355-.89-.882-1.12-.882-1.12-.727-.47.05-.47.05-.47.805.051 1.231.79 1.231.79.711 1.172 1.86.84 2.324.636.063-.496.278-.84.5-1.03-1.77-.18-3.632-.84-3.632-3.798 0-.84.316-1.527.82-2.062-.078-.192-.356-.98.078-2.035 0 0 .676-.204 2.191.789a7.99 7.99 0 0 1 3.989 0c1.52-.993 2.195-.79 2.195-.79.434 1.055.156 1.844.078 2.036.516.535.817 1.222.817 2.062 0 2.957-1.86 3.606-3.645 3.797.293.242.543.7.543 1.426 0 1.031-.012 1.86-.012 2.113 0 .203.145.445.54.367 3.171-1.015 5.453-3.894 5.453-7.293C15.953 3.438 12.374 0 7.976 0Zm0 0"></path></svg>&quot; 以作区分。</p><p>另外，为了阅读本书时思维的整体连贯性，同时也为了减轻读者的阅读负担，
我们不会过分追求Kubernetes源码细节，更不会对Kubernetes源码大段的走读。
我们所选取的所有内容都恰好可以用于实现我们最后所编写的控制器。
通俗地说，本书致力于解释&quot;为这么要使用这个Kubernetes组件来实现控制器&quot;以及&quot;如何使用这个Kubernetes组件&quot;，而不是&quot;死抠这个Kubernetes组件内部实现的细节&quot;。</p><p>除此以外，对于特别复杂的知识体系，为了便于读者理解，我们甚至会根据它们对应的PR来介绍它们的历史和演化过程。</p><p>本书的定位更偏向于教程，我们采用一种我们认为合适的路线，希望能够循序渐进地引导读者去理解最后自定义控制器的实现。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="约定">约定<a href="#约定" class="hash-link" aria-label="Direct link to 约定" title="Direct link to 约定">​</a></h3><ul><li><em>斜体</em>：专有名词；</li><li><strong>粗体</strong>：起强调作用；</li><li>🎈/🤖️标记：用🎈标记的知识或者论述表示与控制器的代码实现<strong>直接</strong>相关。🤖️仅会以注释的形式出现在第三章中控制器代码中，用于索引到前两章的知识点；</li><li>🌧️标记：对于没有官方文档支撑或者我们自己不够确定的论述会使用🌧️标记。</li></ul><p>另外，本书中图示中出现的文字和代码中的注释都为英文。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="与同类书籍的比较">与同类书籍的比较<sup id="fnref-8"><a href="#fn-8" class="footnote-ref">8</a></sup><a href="#与同类书籍的比较" class="hash-link" aria-label="Direct link to 与同类书籍的比较" title="Direct link to 与同类书籍的比较">​</a></h2><ol><li>《<a href="https://www.oreilly.com/library/view/programming-kubernetes/9781492047094/" target="_blank" rel="noopener noreferrer">Programming Kubernetes</a>》by Michael Hausenblas, Stefan Schimanski, 2019</li><li>《<a href="https://www.oreilly.com/library/view/kubernetes-programming-with/9781484290262/?_gl=1*ddqtnc*_ga*NDgwMjY0MDMzLjE2Nzg5MzY0NTc.*_ga_092EL089CH*MTY4NTYyMDQ0NC40LjEuMTY4NTYyMDUwMy4xLjAuMA.." target="_blank" rel="noopener noreferrer">Kubernetes Programming with Go: Programming Kubernetes Clients and Operators Using Go and the Kubernetes API</a>》by Philippe Martin, 2023</li></ol><p>这两本书中关于自定义控制器的部分仍然都是基于<code>kubebuilder</code>框架，而我们将不会借助任何第三方框架教读者实现一个自定义控制器。</p><p>除此以外，上述两本书涵盖了许多与实现控制器本身无关的内容，
而对于本书来说，我们所引入的预备知识会尽量保持简洁，并不会面面俱到——这些内容恰好能够用于理解和实现最后编写的控制器。</p><p>总之，我们只专注于做一件事——教会读者仅依赖<code>apimachinery</code>和<code>client-go</code>库实现一个精简的自定义控制器。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="局限">局限<a href="#局限" class="hash-link" aria-label="Direct link to 局限" title="Direct link to 局限">​</a></h2><p>本书只聚焦于控制器本身的实现，如何使用CRD来扩展Kubernetes API（以及背后的原理）并不是本书要讨论的内容。
使用CRD来扩展Kubernetes API属于阅读本书需要掌握的<a href="#%E8%B0%81%E9%80%82%E5%90%88%E9%98%85%E8%AF%BB%E6%9C%AC%E4%B9%A6">预备知识</a>。</p><p>其次，为了尽可能地追求控制器的简洁，导致了实现的控制器：</p><ul><li>没有考虑<a href="https://kubernetes.io/docs/tasks/extend-kubernetes/custom-resources/custom-resource-definition-versioning/" target="_blank" rel="noopener noreferrer"><em>CRD</em>多版本</a>情况；</li><li>没有<a href="https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/" target="_blank" rel="noopener noreferrer">defaulting/validating webhook</a>；</li></ul><p>另外，不同于kubebuilder等成熟框架，我们只专注于控制器本身逻辑的实现，本书并不提供配套的部署文件（包括<code>role</code>、<code>rolebindings</code>等）。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="扩展阅读">扩展阅读<a href="#扩展阅读" class="hash-link" aria-label="Direct link to 扩展阅读" title="Direct link to 扩展阅读">​</a></h2><p>下面列举了本书中所有非Kubernetes官方文档的引用：</p><ol><li>Kubernetes请求的生命周期<ul><li><a href="https://www.oreilly.com/library/view/programming-kubernetes/9781492047094/" target="_blank" rel="noopener noreferrer">📖 Programming Kubernetes</a> by Michael Hausenblas, Stefan Schimanski, Ch. 2, Ch. 4。</li><li><a href="https://www.youtube.com/watch?v=ryeINNfVOi8" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="16" viewBox="0 0 24 16"><path style="stroke:none;fill-rule:nonzero;fill:red;fill-opacity:1" d="M19.254 4.332a1.906 1.906 0 0 0-1.34-1.348C16.734 2.668 12 2.668 12 2.668s-4.734 0-5.914.316a1.906 1.906 0 0 0-1.34 1.348C4.43 5.52 4.43 8 4.43 8s0 2.48.316 3.668a1.906 1.906 0 0 0 1.34 1.348c1.18.316 5.914.316 5.914.316s4.734 0 5.914-.316a1.906 1.906 0 0 0 1.34-1.348C19.57 10.48 19.57 8 19.57 8s0-2.48-.316-3.668"></path><path style="stroke:none;fill-rule:nonzero;fill:#fff;fill-opacity:1" d="M10.453 10.25 14.41 8l-3.957-2.25Zm0 0"></path></svg> Life of a Kubernetes API Request</a> by Daniel Smith(a KubeCon talk)</li></ul></li><li>Kubernetes资源版本转化机制<ul><li><a href="https://book.kubebuilder.io/multiversion-tutorial/conversion-concepts.html" target="_blank" rel="noopener noreferrer">📄 hub version</a></li></ul></li><li>声明式系统与命令式系统<ul><li><a href="https://dominik-tornow.medium.com/imperative-vs-declarative-8abc7dcae82e" target="_blank" rel="noopener noreferrer">📄 Imperative vs Declarative</a> by Andrew Chen, Dominik Tornow, medium</li></ul></li><li>HTTP语境下的资源<ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Identifying_resources_on_the_Web" target="_blank" rel="noopener noreferrer">📄 Identifying resources on the Web</a>, mdn web docs</li><li><a href="https://www.oreilly.com/library/view/restful-web-services/9780596529260/" target="_blank" rel="noopener noreferrer">📖 RESTful Web Services</a> by Leonard Richardson, Sam Ruby, Ch. 4.</li></ul></li><li>Kubernetes术语<ul><li><a href="https://stackoverflow.com/questions/52309496/difference-between-kubernetes-objects-and-resources" target="_blank" rel="noopener noreferrer">📄 Difference between Kubernetes Objects and Resources</a>, by Jordan Liggitt, stackoverflow</li></ul></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="关于气球">关于气球🎈<a href="#关于气球" class="hash-link" aria-label="Direct link to 关于气球🎈" title="Direct link to 关于气球🎈">​</a></h2><p>我们要实现一个简单的&quot;气球🎈控制器🤖️&quot;，Kubernetes可以用它控制&quot;气球🎈资源&quot;（CRD）的释放。</p><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 15"><path style="stroke:none;fill-rule:nonzero;fill:#326ce5;fill-opacity:1" d="M7.945 0c-.14.008-.28.043-.41.102L1.973 2.668c-.29.137-.5.39-.575.691L.028 9.13a.976.976 0 0 0 .202.86l3.852 4.624c.203.242.508.387.832.387l6.172-.004c.324 0 .633-.14.832-.383l3.852-4.625a.987.987 0 0 0 .203-.863l-1.375-5.766a1.01 1.01 0 0 0-.575-.691L8.461.102C8.3.027 8.12-.008 7.945 0Zm0 0"></path><path style="stroke:none;fill-rule:nonzero;fill:#fff;fill-opacity:1" d="M8 1.965c-.184 0-.332.16-.332.355v.012c0 .023-.004.059 0 .082.004.113.027.2.043.305.031.222.055.41.039.582a.382.382 0 0 1-.11.168l-.007.136c-.2.016-.403.043-.602.09a4.299 4.299 0 0 0-2.176 1.2l-.12-.082c-.06.007-.118.023-.196-.02a3.193 3.193 0 0 1-.45-.39c-.073-.079-.128-.153-.218-.227-.02-.016-.05-.04-.074-.055a.411.411 0 0 0-.235-.086.328.328 0 0 0-.265.113c-.113.141-.074.352.082.477h.008c.02.02.047.04.066.055.098.066.184.101.277.156.2.117.364.219.497.336.05.055.058.144.066.187l.105.09a4.057 4.057 0 0 0-.68 2.903l-.136.039c-.039.046-.09.117-.144.14-.172.051-.364.07-.598.094-.11.008-.203.004-.32.023a.554.554 0 0 1-.086.02l-.004.004h-.004c-.2.047-.324.219-.281.39.039.172.23.278.43.235h.007c.031-.008.063-.012.086-.02.117-.03.2-.074.3-.109.22-.078.403-.14.583-.168.074-.004.152.047.191.066l.145-.023a4.207 4.207 0 0 0 1.918 2.316l-.059.141c.02.055.047.129.027.18-.062.164-.175.336-.3.523-.059.09-.121.156-.176.258-.016.023-.031.062-.043.086-.086.18-.024.383.14.457.165.078.372-.004.458-.18h.003c.012-.027.028-.058.04-.082.046-.105.062-.195.097-.297.086-.215.137-.437.258-.578.031-.039.086-.05.145-.066l.074-.133a4.385 4.385 0 0 0 3.07.008c.024.035.063.105.074.125.055.015.117.027.168.097.09.153.153.329.23.543.032.102.048.188.094.293l.043.082c.09.18.293.262.461.184.164-.078.227-.281.141-.457-.012-.027-.031-.063-.043-.086-.055-.102-.117-.168-.18-.258-.125-.191-.23-.347-.293-.511-.027-.083.004-.133.024-.188-.012-.016-.04-.094-.055-.129a4.21 4.21 0 0 0 1.918-2.336c.043.008.117.02.145.027.05-.035.093-.074.183-.066.18.024.364.086.582.164.102.035.184.082.301.11.023.007.059.011.086.02h.004c.004 0 .004 0 .004.003.199.039.39-.066.43-.238.042-.172-.083-.344-.282-.39-.027-.009-.066-.017-.094-.024-.117-.02-.21-.016-.32-.024a3.314 3.314 0 0 1-.598-.094c-.07-.027-.12-.105-.144-.14l-.133-.04a4.065 4.065 0 0 0-.695-2.895c.035-.026.101-.085.117-.1.008-.059.004-.118.063-.18.132-.121.296-.219.496-.34.093-.05.183-.086.277-.152.023-.016.05-.043.074-.059.16-.125.195-.336.082-.472-.117-.141-.336-.153-.496-.032-.023.02-.055.04-.074.059-.09.074-.145.148-.223.223a2.991 2.991 0 0 1-.445.394c-.066.035-.16.024-.203.02l-.13.09a4.415 4.415 0 0 0-2.76-1.294 2.321 2.321 0 0 1-.009-.14c-.043-.043-.097-.074-.109-.164-.016-.172.008-.36.04-.582.015-.106.038-.192.042-.305.004-.027 0-.066 0-.094 0-.195-.148-.355-.332-.355Zm-.418 2.492-.098 1.688-.007.003a.292.292 0 0 1-.293.274.282.282 0 0 1-.172-.055h-.004l-1.434-.98a3.459 3.459 0 0 1 1.653-.867c.12-.028.238-.047.355-.063Zm.836 0a3.52 3.52 0 0 1 1.992.93l-1.422.976-.004-.004a.302.302 0 0 1-.402-.05.3.3 0 0 1-.066-.164ZM5.055 6.02l1.308 1.128v.008a.27.27 0 0 1 .035.387.28.28 0 0 1-.152.098v.007l-1.676.465a3.214 3.214 0 0 1 .485-2.093Zm5.879 0a3.262 3.262 0 0 1 .5 2.09L9.75 7.64v-.007a.282.282 0 0 1-.21-.336.306.306 0 0 1 .093-.152ZM7.73 7.234h.536l.336.403-.122.5-.48.226-.484-.226-.118-.5ZM9.45 8.61c.023 0 .046.004.066.008l.004-.004 1.734.282a3.347 3.347 0 0 1-1.39 1.683l-.673-1.57h.004c-.062-.14 0-.301.14-.367a.289.289 0 0 1 .114-.032Zm-2.915.008c.133.004.254.09.285.223a.285.285 0 0 1-.02.172l.009.008-.668 1.554a3.372 3.372 0 0 1-1.383-1.672l1.719-.285.003.004c.02-.004.04-.004.055-.004Zm1.453.68a.28.28 0 0 1 .137.031c.059.027.105.07.133.121h.008l.847 1.477a3.586 3.586 0 0 1-2.219 0l.844-1.477h.004a.29.29 0 0 1 .246-.152Zm0 0"></path></svg> + 🎈 = <svg xmlns="http://www.w3.org/2000/svg" width="22" height="21" viewBox="0 0 21 21"><path style="stroke:none;fill-rule:evenodd;fill:#0828b1;fill-opacity:1" d="M5.418 20.543c.105.137.281.246.57.355.035.012.215.043.504.051 1.637.024 6.703.035 7.824.024.618-.004 1.079-.192 1.368-.563 1.414-1.832 2.847-3.648 4.27-5.476.8-1.024 1.218-1.215.917-2.63-.45-2.093-.953-4.175-1.402-6.269-.375-1.75-.235-1.883-1.38-2.469A418.148 418.148 0 0 0 11.587.344c-.465-.227-.934-.38-1.29-.336-.148.02-.487.144-.917.347-1.922.915-3.852 1.899-5.781 2.817-1.832.875-1.676 1.05-2.16 3.203-.465 2.086-.95 4.18-1.399 6.266-.152.703.172 1.273.578 1.796 1.594 2.043 3.203 4.075 4.801 6.106Zm0 0"></path><path style="stroke:none;fill-rule:evenodd;fill:#0828b1;fill-opacity:1" d="M8.441 20.969h.176L4.88 15.23l-.121.082Zm.555 0 .246.004-.058-.23.285-1.716.535 1.496-.078.45h.148l.031-.172.06.172h.155l-.168-.465.22-1.29.058 1.755h.152l.047-1.157.226.895-.015.078-.078.188h.308l-.054-.227.406-.98-.168.78-.024.04.012.008-.082.379h.149l.082-.375 4.046-7.727-.128-.07-3.805 7.265.223-1.047 2.484-5.984-.133-.059-2.18 5.258.989-4.617-.14-.031-1.157 5.39-.477 1.149L13.22 9.12l-.14-.027-2.161 11.281-.27-1.07.082-2.223.907-5.352-.14-.027-.72 4.254.168-4.426-.144-.008-.211 5.543-.121.707-.13-3.894.118-.684-.145-.023-.007.039-.133.004.023.656-.37 2.2-1.762-6.93-.141.035 1.844 7.246-.344 2.031-1.34-3.75-.133.05 1.422 3.997-.277 1.652-1.52-5.808-.14.039 1.601 6.117Zm2.758.008h.187l4.118-5.57-.114-.09Zm-2.23-2.243.527 1.496.273-1.605-.472-1.855Zm.386-2.32.422 1.66-.113-3.476Zm.582 2.09.008.223.023.085.024-.62Zm0 0"></path><path style="stroke:none;fill-rule:evenodd;fill:#a1a1a1;fill-opacity:1" d="M8.441 20.969h.176L4.88 15.23l-.121.082Zm.555 0 .246.004-.058-.23.285-1.716.535 1.496-.078.45h.148l.031-.172.06.172h.155l-.168-.465.22-1.29.058 1.755h.152l.047-1.157.226.895-.015.078-.078.188h.308l-.054-.227.406-.98-.168.78-.024.04.012.008-.082.379h.149l.082-.375 4.046-7.727-.128-.07-3.805 7.265.223-1.047 2.484-5.984-.133-.059-2.18 5.258.989-4.617-.14-.031-1.157 5.39-.477 1.149L13.22 9.12l-.14-.027-2.161 11.281-.27-1.07.082-2.223.907-5.352-.14-.027-.72 4.254.168-4.426-.144-.008-.211 5.543-.121.707-.13-3.894.118-.684-.145-.023-.007.039-.133.004.023.656-.37 2.2-1.762-6.93-.141.035 1.844 7.246-.344 2.031-1.34-3.75-.133.05 1.422 3.997-.277 1.652-1.52-5.808-.14.039 1.601 6.117Zm2.758.008h.187l4.118-5.57-.114-.09Zm-2.23-2.243.527 1.496.273-1.605-.472-1.855Zm.386-2.32.422 1.66-.113-3.476Zm.582 2.09.008.223.023.085.024-.62Zm0 0"></path><path style="stroke:none;fill-rule:evenodd;fill:#c8d851;fill-opacity:1" d="M17.918 12.965c.687-.977.539-2.3-.336-2.957-.875-.656-2.145-.39-2.836.586-.691.98-.543 2.304.332 2.96.879.653 2.149.391 2.84-.59Zm0 0"></path><path style="stroke:none;fill-rule:evenodd;fill:#fefefe;fill-opacity:1" d="M16.465 10.445c.05-.015.18-.18.11-.265-.227-.305-.97.015-1.169.312-.105.149-.05.32.028.375.074.055.23.094.367-.066.219-.258.375-.25.664-.356ZM15.25 11.066c-.262-.136-.574.461-.578.618 0 .097.058.21.137.238.28.101.664-.735.441-.856Zm0 0"></path><path style="stroke:none;fill-rule:evenodd;fill:#f36e41;fill-opacity:1" d="M9.316 6.926C8.801 5.84 7.598 5.352 6.621 5.84c-.973.488-1.344 1.765-.828 2.851.516 1.09 1.723 1.575 2.695 1.09.973-.488 1.344-1.765.828-2.855Zm0 0"></path><path style="stroke:none;fill-rule:evenodd;fill:#fefefe;fill-opacity:1" d="M6.473 7.063c.011-.055-.07-.247-.176-.227-.371.062-.442.887-.285 1.207.082.168.254.2.336.152.086-.043.191-.164.117-.363-.117-.32-.04-.46.008-.77ZM6.434 8.457c-.239.168.128.738.257.813.082.05.211.046.27-.012.219-.207-.32-.945-.527-.801Zm0 0"></path><path style="stroke:none;fill-rule:evenodd;fill:#f36e41;fill-opacity:1" d="M15.402 12.672c.438-1.125-.023-2.371-1.027-2.785-1.008-.41-2.176.164-2.613 1.289-.438 1.12.023 2.367 1.031 2.781 1.004.414 2.172-.16 2.61-1.285Zm0 0"></path><path style="stroke:none;fill-rule:evenodd;fill:#fefefe;fill-opacity:1" d="M13.395 10.598c.046-.032.128-.223.043-.293-.293-.235-.934.265-1.063.601-.063.172.031.324.117.36.09.035.246.03.344-.16.152-.305.3-.336.559-.508Zm0 0"></path><path style="stroke:none;fill-rule:evenodd;fill:#f36e41;fill-opacity:1" d="M10.68 11.453c-.516-1.09-1.72-1.574-2.692-1.086-.976.485-1.347 1.762-.832 2.852.516 1.086 1.723 1.574 2.696 1.086.972-.489 1.343-1.766.828-2.852Zm0 0"></path><path style="stroke:none;fill-rule:evenodd;fill:#fefefe;fill-opacity:1" d="M7.836 11.59c.012-.059-.07-.25-.176-.23-.37.062-.441.89-.285 1.21.082.164.254.2.336.153.086-.043.191-.168.117-.368-.117-.32-.039-.46.008-.765ZM7.797 12.98c-.238.172.129.739.258.817.082.047.21.047.27-.012.218-.21-.321-.95-.528-.805Zm0 0"></path><path style="stroke:none;fill-rule:evenodd;fill:#7d87d8;fill-opacity:1" d="M17.395 11.559c.613-1.036.359-2.344-.567-2.922-.926-.578-2.172-.211-2.781.824-.613 1.035-.356 2.34.566 2.918.926.582 2.172.21 2.782-.82Zm0 0"></path><path style="stroke:none;fill-rule:evenodd;fill:#fefefe;fill-opacity:1" d="M15.75 9.172c.047-.024.16-.2.086-.281-.25-.286-.961.101-1.14.41-.09.16-.024.324.058.375.078.047.234.074.36-.102.198-.273.355-.281.636-.402ZM14.586 9.89c-.27-.117-.531.505-.527.66.007.095.078.208.156.227.289.078.605-.789.37-.886Zm0 0"></path><path style="stroke:none;fill-rule:evenodd;fill:#7d87d8;fill-opacity:1" d="M7.926 10.04c-.59-1.048-1.824-1.446-2.762-.892-.937.559-1.223 1.86-.637 2.907.59 1.047 1.825 1.445 2.762.89.938-.554 1.223-1.86.637-2.906Zm0 0"></path><path style="stroke:none;fill-rule:evenodd;fill:#fefefe;fill-opacity:1" d="M5.098 10.379c.007-.055-.086-.238-.196-.215-.363.09-.375.918-.199 1.227.094.16.266.18.348.129.078-.051.176-.18.09-.375-.141-.31-.07-.454-.043-.766ZM5.152 11.773c-.226.188.176.727.313.793.082.043.21.032.265-.03.204-.223-.382-.923-.578-.763Zm0 0"></path><path style="stroke:none;fill-rule:evenodd;fill:#874544;fill-opacity:1" d="M11.914 6.668c0-1.211-.879-2.191-1.96-2.191-1.087 0-1.966.98-1.966 2.191 0 1.21.88 2.187 1.965 2.187 1.082 0 1.961-.976 1.961-2.187Zm0 0"></path><path style="stroke:none;fill-rule:evenodd;fill:#fefefe;fill-opacity:1" d="M9.297 5.512c.035-.047.043-.258-.063-.29-.359-.109-.773.602-.77.962.005.187.145.289.24.289.093-.004.241-.067.26-.278.028-.343.161-.43.333-.683ZM8.672 6.742c-.293.047-.203.723-.117.852.05.078.168.136.246.11.285-.09.117-.997-.13-.962Zm0 0"></path><path style="stroke:none;fill-rule:evenodd;fill:#4fbcc1;fill-opacity:1" d="M15.422 7.398c.133-1.199-.629-2.277-1.703-2.406s-2.059.742-2.192 1.946c-.136 1.203.63 2.28 1.703 2.406 1.075.129 2.055-.742 2.192-1.946Zm0 0"></path><path style="stroke:none;fill-rule:evenodd;fill:#fefefe;fill-opacity:1" d="M12.953 5.941c.035-.043.07-.246-.031-.293-.344-.152-.832.508-.871.864-.016.183.11.308.203.316.098.008.246-.035.289-.246.07-.336.207-.406.41-.64Zm0 0"></path><path style="stroke:none;fill-rule:evenodd;fill:#4fbcc1;fill-opacity:1" d="M18.496 14.805c.258-1.18-.387-2.336-1.441-2.578-1.059-.247-2.125.511-2.383 1.691-.258 1.184.39 2.336 1.445 2.582 1.055.246 2.121-.516 2.38-1.695Zm0 0"></path><path style="stroke:none;fill-rule:evenodd;fill:#fefefe;fill-opacity:1" d="M16.195 13.086c.04-.04.094-.242-.004-.297-.324-.184-.882.414-.953.766-.035.18.078.316.172.336.09.02.246-.008.309-.215.105-.324.25-.383.476-.59ZM15.316 14.145c-.289-.02-.347.66-.293.804.036.09.137.172.22.164.292-.023.327-.949.073-.968Zm0 0"></path><path style="stroke:none;fill-rule:evenodd;fill:#c8d851;fill-opacity:1" d="M5.45 12.586c-.696-.977-1.966-1.234-2.84-.578-.872.66-1.016 1.984-.325 2.96.695.977 1.969 1.235 2.84.575.875-.656 1.02-1.98.324-2.957Zm0 0"></path><path style="stroke:none;fill-rule:evenodd;fill:#fefefe;fill-opacity:1" d="M2.676 13.238c0-.054-.114-.23-.219-.191-.348.133-.277.953-.066 1.242.105.149.285.149.355.09.078-.059.16-.2.05-.383-.167-.293-.112-.445-.12-.758ZM2.879 14.617c-.207.211.25.703.394.754.086.031.211.008.262-.059.176-.246-.476-.878-.656-.695Zm0 0"></path><path style="stroke:none;fill-rule:evenodd;fill:#4fbcc1;fill-opacity:1" d="M8.79 13.086c-.602-1.04-1.84-1.422-2.774-.856-.93.57-1.2 1.875-.598 2.915.602 1.043 1.84 1.425 2.773.855.93-.566 1.2-1.871.598-2.914Zm0 0"></path><path style="stroke:none;fill-rule:evenodd;fill:#fefefe;fill-opacity:1" d="M5.969 13.465c.004-.055-.094-.242-.2-.215-.359.094-.367.922-.183 1.23.094.16.27.176.348.125.078-.05.175-.183.082-.375-.141-.308-.07-.457-.047-.765ZM6.04 14.855c-.228.192.183.727.32.793.085.036.21.024.269-.039.2-.222-.395-.918-.59-.754Zm0 0"></path><path style="stroke:none;fill-rule:evenodd;fill:#c8d851;fill-opacity:1" d="M12.71 9.777c0-1.21-.878-2.191-1.96-2.191-1.086 0-1.965.98-1.965 2.191 0 1.211.88 2.188 1.965 2.188 1.082 0 1.96-.977 1.96-2.188Zm0 0"></path><path style="stroke:none;fill-rule:evenodd;fill:#fefefe;fill-opacity:1" d="M10.094 8.621c.031-.047.043-.258-.067-.289-.355-.11-.773.602-.765.961 0 .187.14.293.238.289.094 0 .238-.066.258-.277.031-.34.16-.43.336-.684ZM9.465 9.855c-.29.043-.2.72-.113.848.05.078.164.137.246.11.28-.09.117-.997-.133-.958Zm0 0"></path></svg><div class="footnotes"><hr><ol><li id="fn-1">你可以在<a href="https://kubernetes.io/blog/2018/08/10/introducing-kubebuilder-an-sdk-for-building-kubernetes-apis-using-crds/" target="_blank" rel="noopener noreferrer">这里 <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 15"><path style="stroke:none;fill-rule:nonzero;fill:#326ce5;fill-opacity:1" d="M7.945 0c-.14.008-.28.043-.41.102L1.973 2.668c-.29.137-.5.39-.575.691L.028 9.13a.976.976 0 0 0 .202.86l3.852 4.624c.203.242.508.387.832.387l6.172-.004c.324 0 .633-.14.832-.383l3.852-4.625a.987.987 0 0 0 .203-.863l-1.375-5.766a1.01 1.01 0 0 0-.575-.691L8.461.102C8.3.027 8.12-.008 7.945 0Zm0 0"></path><path style="stroke:none;fill-rule:nonzero;fill:#fff;fill-opacity:1" d="M8 1.965c-.184 0-.332.16-.332.355v.012c0 .023-.004.059 0 .082.004.113.027.2.043.305.031.222.055.41.039.582a.382.382 0 0 1-.11.168l-.007.136c-.2.016-.403.043-.602.09a4.299 4.299 0 0 0-2.176 1.2l-.12-.082c-.06.007-.118.023-.196-.02a3.193 3.193 0 0 1-.45-.39c-.073-.079-.128-.153-.218-.227-.02-.016-.05-.04-.074-.055a.411.411 0 0 0-.235-.086.328.328 0 0 0-.265.113c-.113.141-.074.352.082.477h.008c.02.02.047.04.066.055.098.066.184.101.277.156.2.117.364.219.497.336.05.055.058.144.066.187l.105.09a4.057 4.057 0 0 0-.68 2.903l-.136.039c-.039.046-.09.117-.144.14-.172.051-.364.07-.598.094-.11.008-.203.004-.32.023a.554.554 0 0 1-.086.02l-.004.004h-.004c-.2.047-.324.219-.281.39.039.172.23.278.43.235h.007c.031-.008.063-.012.086-.02.117-.03.2-.074.3-.109.22-.078.403-.14.583-.168.074-.004.152.047.191.066l.145-.023a4.207 4.207 0 0 0 1.918 2.316l-.059.141c.02.055.047.129.027.18-.062.164-.175.336-.3.523-.059.09-.121.156-.176.258-.016.023-.031.062-.043.086-.086.18-.024.383.14.457.165.078.372-.004.458-.18h.003c.012-.027.028-.058.04-.082.046-.105.062-.195.097-.297.086-.215.137-.437.258-.578.031-.039.086-.05.145-.066l.074-.133a4.385 4.385 0 0 0 3.07.008c.024.035.063.105.074.125.055.015.117.027.168.097.09.153.153.329.23.543.032.102.048.188.094.293l.043.082c.09.18.293.262.461.184.164-.078.227-.281.141-.457-.012-.027-.031-.063-.043-.086-.055-.102-.117-.168-.18-.258-.125-.191-.23-.347-.293-.511-.027-.083.004-.133.024-.188-.012-.016-.04-.094-.055-.129a4.21 4.21 0 0 0 1.918-2.336c.043.008.117.02.145.027.05-.035.093-.074.183-.066.18.024.364.086.582.164.102.035.184.082.301.11.023.007.059.011.086.02h.004c.004 0 .004 0 .004.003.199.039.39-.066.43-.238.042-.172-.083-.344-.282-.39-.027-.009-.066-.017-.094-.024-.117-.02-.21-.016-.32-.024a3.314 3.314 0 0 1-.598-.094c-.07-.027-.12-.105-.144-.14l-.133-.04a4.065 4.065 0 0 0-.695-2.895c.035-.026.101-.085.117-.1.008-.059.004-.118.063-.18.132-.121.296-.219.496-.34.093-.05.183-.086.277-.152.023-.016.05-.043.074-.059.16-.125.195-.336.082-.472-.117-.141-.336-.153-.496-.032-.023.02-.055.04-.074.059-.09.074-.145.148-.223.223a2.991 2.991 0 0 1-.445.394c-.066.035-.16.024-.203.02l-.13.09a4.415 4.415 0 0 0-2.76-1.294 2.321 2.321 0 0 1-.009-.14c-.043-.043-.097-.074-.109-.164-.016-.172.008-.36.04-.582.015-.106.038-.192.042-.305.004-.027 0-.066 0-.094 0-.195-.148-.355-.332-.355Zm-.418 2.492-.098 1.688-.007.003a.292.292 0 0 1-.293.274.282.282 0 0 1-.172-.055h-.004l-1.434-.98a3.459 3.459 0 0 1 1.653-.867c.12-.028.238-.047.355-.063Zm.836 0a3.52 3.52 0 0 1 1.992.93l-1.422.976-.004-.004a.302.302 0 0 1-.402-.05.3.3 0 0 1-.066-.164ZM5.055 6.02l1.308 1.128v.008a.27.27 0 0 1 .035.387.28.28 0 0 1-.152.098v.007l-1.676.465a3.214 3.214 0 0 1 .485-2.093Zm5.879 0a3.262 3.262 0 0 1 .5 2.09L9.75 7.64v-.007a.282.282 0 0 1-.21-.336.306.306 0 0 1 .093-.152ZM7.73 7.234h.536l.336.403-.122.5-.48.226-.484-.226-.118-.5ZM9.45 8.61c.023 0 .046.004.066.008l.004-.004 1.734.282a3.347 3.347 0 0 1-1.39 1.683l-.673-1.57h.004c-.062-.14 0-.301.14-.367a.289.289 0 0 1 .114-.032Zm-2.915.008c.133.004.254.09.285.223a.285.285 0 0 1-.02.172l.009.008-.668 1.554a3.372 3.372 0 0 1-1.383-1.672l1.719-.285.003.004c.02-.004.04-.004.055-.004Zm1.453.68a.28.28 0 0 1 .137.031c.059.027.105.07.133.121h.008l.847 1.477a3.586 3.586 0 0 1-2.219 0l.844-1.477h.004a.29.29 0 0 1 .246-.152Zm0 0"></path></svg></a>找到基于其他语言的控制器框架。<a href="#fnref-1" class="footnote-backref">↩</a></li><li id="fn-2">其实官方也提供了一个没有使用构建框架来实现的自定义控制器样例<a href="https://github.com/kubernetes/sample-controller" target="_blank" rel="noopener noreferrer">sample-controller</a>。这个样例虽然相对来说比完全基于框架的控制器简单，但是它仍然依赖于kubebuilder的子项目<a href="https://github.com/kubernetes-sigs/controller-runtime" target="_blank" rel="noopener noreferrer">controller-runtime</a>。<a href="#fnref-2" class="footnote-backref">↩</a></li><li id="fn-3">我们甚至不借助Kubernetes的<a href="https://github.com/kubernetes/community/blob/master/contributors/devel/sig-api-machinery/generating-clientset.md" target="_blank" rel="noopener noreferrer"><code>client-gen</code></a>工具来生成Kubernetes API客户端的代码。<a href="#fnref-3" class="footnote-backref">↩</a></li><li id="fn-4">你应该知道书籍《<a href="https://www.gopl.io/" target="_blank" rel="noopener noreferrer">The Go Programming Language</a>》的1-10，12章所要表述的知识；你也应该知道<a href="https://go.dev/blog/using-go-modules" target="_blank" rel="noopener noreferrer">Go modules</a>的概念。<a href="#fnref-4" class="footnote-backref">↩</a></li><li id="fn-5">你应该知道书籍《<a href="https://www.manning.com/books/kubernetes-in-action" target="_blank" rel="noopener noreferrer">Kubernetes in  Action, edition 1</a>》中前两部分（PART1，PART2）所要传达的知识；你需要了解Kubernetes集群的<a href="https://kubernetes.io/docs/concepts/overview/components/" target="_blank" rel="noopener noreferrer">组成及架构</a>；你也有使用<a href="https://kubernetes.io/docs/reference/kubectl/" target="_blank" rel="noopener noreferrer">kubectl</a>工具管理Kubernetes集群的经验。<a href="#fnref-5" class="footnote-backref">↩</a></li><li id="fn-6">你应该知道什么是<a href="https://kubernetes.io/docs/concepts/extend-kubernetes/api-extension/custom-resources/#custom-resources" target="_blank" rel="noopener noreferrer">Kubernetes Custom Resources <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 15"><path style="stroke:none;fill-rule:nonzero;fill:#326ce5;fill-opacity:1" d="M7.945 0c-.14.008-.28.043-.41.102L1.973 2.668c-.29.137-.5.39-.575.691L.028 9.13a.976.976 0 0 0 .202.86l3.852 4.624c.203.242.508.387.832.387l6.172-.004c.324 0 .633-.14.832-.383l3.852-4.625a.987.987 0 0 0 .203-.863l-1.375-5.766a1.01 1.01 0 0 0-.575-.691L8.461.102C8.3.027 8.12-.008 7.945 0Zm0 0"></path><path style="stroke:none;fill-rule:nonzero;fill:#fff;fill-opacity:1" d="M8 1.965c-.184 0-.332.16-.332.355v.012c0 .023-.004.059 0 .082.004.113.027.2.043.305.031.222.055.41.039.582a.382.382 0 0 1-.11.168l-.007.136c-.2.016-.403.043-.602.09a4.299 4.299 0 0 0-2.176 1.2l-.12-.082c-.06.007-.118.023-.196-.02a3.193 3.193 0 0 1-.45-.39c-.073-.079-.128-.153-.218-.227-.02-.016-.05-.04-.074-.055a.411.411 0 0 0-.235-.086.328.328 0 0 0-.265.113c-.113.141-.074.352.082.477h.008c.02.02.047.04.066.055.098.066.184.101.277.156.2.117.364.219.497.336.05.055.058.144.066.187l.105.09a4.057 4.057 0 0 0-.68 2.903l-.136.039c-.039.046-.09.117-.144.14-.172.051-.364.07-.598.094-.11.008-.203.004-.32.023a.554.554 0 0 1-.086.02l-.004.004h-.004c-.2.047-.324.219-.281.39.039.172.23.278.43.235h.007c.031-.008.063-.012.086-.02.117-.03.2-.074.3-.109.22-.078.403-.14.583-.168.074-.004.152.047.191.066l.145-.023a4.207 4.207 0 0 0 1.918 2.316l-.059.141c.02.055.047.129.027.18-.062.164-.175.336-.3.523-.059.09-.121.156-.176.258-.016.023-.031.062-.043.086-.086.18-.024.383.14.457.165.078.372-.004.458-.18h.003c.012-.027.028-.058.04-.082.046-.105.062-.195.097-.297.086-.215.137-.437.258-.578.031-.039.086-.05.145-.066l.074-.133a4.385 4.385 0 0 0 3.07.008c.024.035.063.105.074.125.055.015.117.027.168.097.09.153.153.329.23.543.032.102.048.188.094.293l.043.082c.09.18.293.262.461.184.164-.078.227-.281.141-.457-.012-.027-.031-.063-.043-.086-.055-.102-.117-.168-.18-.258-.125-.191-.23-.347-.293-.511-.027-.083.004-.133.024-.188-.012-.016-.04-.094-.055-.129a4.21 4.21 0 0 0 1.918-2.336c.043.008.117.02.145.027.05-.035.093-.074.183-.066.18.024.364.086.582.164.102.035.184.082.301.11.023.007.059.011.086.02h.004c.004 0 .004 0 .004.003.199.039.39-.066.43-.238.042-.172-.083-.344-.282-.39-.027-.009-.066-.017-.094-.024-.117-.02-.21-.016-.32-.024a3.314 3.314 0 0 1-.598-.094c-.07-.027-.12-.105-.144-.14l-.133-.04a4.065 4.065 0 0 0-.695-2.895c.035-.026.101-.085.117-.1.008-.059.004-.118.063-.18.132-.121.296-.219.496-.34.093-.05.183-.086.277-.152.023-.016.05-.043.074-.059.16-.125.195-.336.082-.472-.117-.141-.336-.153-.496-.032-.023.02-.055.04-.074.059-.09.074-.145.148-.223.223a2.991 2.991 0 0 1-.445.394c-.066.035-.16.024-.203.02l-.13.09a4.415 4.415 0 0 0-2.76-1.294 2.321 2.321 0 0 1-.009-.14c-.043-.043-.097-.074-.109-.164-.016-.172.008-.36.04-.582.015-.106.038-.192.042-.305.004-.027 0-.066 0-.094 0-.195-.148-.355-.332-.355Zm-.418 2.492-.098 1.688-.007.003a.292.292 0 0 1-.293.274.282.282 0 0 1-.172-.055h-.004l-1.434-.98a3.459 3.459 0 0 1 1.653-.867c.12-.028.238-.047.355-.063Zm.836 0a3.52 3.52 0 0 1 1.992.93l-1.422.976-.004-.004a.302.302 0 0 1-.402-.05.3.3 0 0 1-.066-.164ZM5.055 6.02l1.308 1.128v.008a.27.27 0 0 1 .035.387.28.28 0 0 1-.152.098v.007l-1.676.465a3.214 3.214 0 0 1 .485-2.093Zm5.879 0a3.262 3.262 0 0 1 .5 2.09L9.75 7.64v-.007a.282.282 0 0 1-.21-.336.306.306 0 0 1 .093-.152ZM7.73 7.234h.536l.336.403-.122.5-.48.226-.484-.226-.118-.5ZM9.45 8.61c.023 0 .046.004.066.008l.004-.004 1.734.282a3.347 3.347 0 0 1-1.39 1.683l-.673-1.57h.004c-.062-.14 0-.301.14-.367a.289.289 0 0 1 .114-.032Zm-2.915.008c.133.004.254.09.285.223a.285.285 0 0 1-.02.172l.009.008-.668 1.554a3.372 3.372 0 0 1-1.383-1.672l1.719-.285.003.004c.02-.004.04-.004.055-.004Zm1.453.68a.28.28 0 0 1 .137.031c.059.027.105.07.133.121h.008l.847 1.477a3.586 3.586 0 0 1-2.219 0l.844-1.477h.004a.29.29 0 0 1 .246-.152Zm0 0"></path></svg></a>以及如何<a href="https://kubernetes.io/docs/tasks/extend-kubernetes/custom-resources/custom-resource-definitions/" target="_blank" rel="noopener noreferrer">使用<em>CustomResourceDefinition</em>来扩展Kubernetes API <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 15"><path style="stroke:none;fill-rule:nonzero;fill:#326ce5;fill-opacity:1" d="M7.945 0c-.14.008-.28.043-.41.102L1.973 2.668c-.29.137-.5.39-.575.691L.028 9.13a.976.976 0 0 0 .202.86l3.852 4.624c.203.242.508.387.832.387l6.172-.004c.324 0 .633-.14.832-.383l3.852-4.625a.987.987 0 0 0 .203-.863l-1.375-5.766a1.01 1.01 0 0 0-.575-.691L8.461.102C8.3.027 8.12-.008 7.945 0Zm0 0"></path><path style="stroke:none;fill-rule:nonzero;fill:#fff;fill-opacity:1" d="M8 1.965c-.184 0-.332.16-.332.355v.012c0 .023-.004.059 0 .082.004.113.027.2.043.305.031.222.055.41.039.582a.382.382 0 0 1-.11.168l-.007.136c-.2.016-.403.043-.602.09a4.299 4.299 0 0 0-2.176 1.2l-.12-.082c-.06.007-.118.023-.196-.02a3.193 3.193 0 0 1-.45-.39c-.073-.079-.128-.153-.218-.227-.02-.016-.05-.04-.074-.055a.411.411 0 0 0-.235-.086.328.328 0 0 0-.265.113c-.113.141-.074.352.082.477h.008c.02.02.047.04.066.055.098.066.184.101.277.156.2.117.364.219.497.336.05.055.058.144.066.187l.105.09a4.057 4.057 0 0 0-.68 2.903l-.136.039c-.039.046-.09.117-.144.14-.172.051-.364.07-.598.094-.11.008-.203.004-.32.023a.554.554 0 0 1-.086.02l-.004.004h-.004c-.2.047-.324.219-.281.39.039.172.23.278.43.235h.007c.031-.008.063-.012.086-.02.117-.03.2-.074.3-.109.22-.078.403-.14.583-.168.074-.004.152.047.191.066l.145-.023a4.207 4.207 0 0 0 1.918 2.316l-.059.141c.02.055.047.129.027.18-.062.164-.175.336-.3.523-.059.09-.121.156-.176.258-.016.023-.031.062-.043.086-.086.18-.024.383.14.457.165.078.372-.004.458-.18h.003c.012-.027.028-.058.04-.082.046-.105.062-.195.097-.297.086-.215.137-.437.258-.578.031-.039.086-.05.145-.066l.074-.133a4.385 4.385 0 0 0 3.07.008c.024.035.063.105.074.125.055.015.117.027.168.097.09.153.153.329.23.543.032.102.048.188.094.293l.043.082c.09.18.293.262.461.184.164-.078.227-.281.141-.457-.012-.027-.031-.063-.043-.086-.055-.102-.117-.168-.18-.258-.125-.191-.23-.347-.293-.511-.027-.083.004-.133.024-.188-.012-.016-.04-.094-.055-.129a4.21 4.21 0 0 0 1.918-2.336c.043.008.117.02.145.027.05-.035.093-.074.183-.066.18.024.364.086.582.164.102.035.184.082.301.11.023.007.059.011.086.02h.004c.004 0 .004 0 .004.003.199.039.39-.066.43-.238.042-.172-.083-.344-.282-.39-.027-.009-.066-.017-.094-.024-.117-.02-.21-.016-.32-.024a3.314 3.314 0 0 1-.598-.094c-.07-.027-.12-.105-.144-.14l-.133-.04a4.065 4.065 0 0 0-.695-2.895c.035-.026.101-.085.117-.1.008-.059.004-.118.063-.18.132-.121.296-.219.496-.34.093-.05.183-.086.277-.152.023-.016.05-.043.074-.059.16-.125.195-.336.082-.472-.117-.141-.336-.153-.496-.032-.023.02-.055.04-.074.059-.09.074-.145.148-.223.223a2.991 2.991 0 0 1-.445.394c-.066.035-.16.024-.203.02l-.13.09a4.415 4.415 0 0 0-2.76-1.294 2.321 2.321 0 0 1-.009-.14c-.043-.043-.097-.074-.109-.164-.016-.172.008-.36.04-.582.015-.106.038-.192.042-.305.004-.027 0-.066 0-.094 0-.195-.148-.355-.332-.355Zm-.418 2.492-.098 1.688-.007.003a.292.292 0 0 1-.293.274.282.282 0 0 1-.172-.055h-.004l-1.434-.98a3.459 3.459 0 0 1 1.653-.867c.12-.028.238-.047.355-.063Zm.836 0a3.52 3.52 0 0 1 1.992.93l-1.422.976-.004-.004a.302.302 0 0 1-.402-.05.3.3 0 0 1-.066-.164ZM5.055 6.02l1.308 1.128v.008a.27.27 0 0 1 .035.387.28.28 0 0 1-.152.098v.007l-1.676.465a3.214 3.214 0 0 1 .485-2.093Zm5.879 0a3.262 3.262 0 0 1 .5 2.09L9.75 7.64v-.007a.282.282 0 0 1-.21-.336.306.306 0 0 1 .093-.152ZM7.73 7.234h.536l.336.403-.122.5-.48.226-.484-.226-.118-.5ZM9.45 8.61c.023 0 .046.004.066.008l.004-.004 1.734.282a3.347 3.347 0 0 1-1.39 1.683l-.673-1.57h.004c-.062-.14 0-.301.14-.367a.289.289 0 0 1 .114-.032Zm-2.915.008c.133.004.254.09.285.223a.285.285 0 0 1-.02.172l.009.008-.668 1.554a3.372 3.372 0 0 1-1.383-1.672l1.719-.285.003.004c.02-.004.04-.004.055-.004Zm1.453.68a.28.28 0 0 1 .137.031c.059.027.105.07.133.121h.008l.847 1.477a3.586 3.586 0 0 1-2.219 0l.844-1.477h.004a.29.29 0 0 1 .246-.152Zm0 0"></path></svg></a>。<a href="#fnref-6" class="footnote-backref">↩</a></li><li id="fn-7">你应该至少能理解这个使用<code>client-go</code>库的<a href="https://github.com/kubernetes/client-go/tree/master/examples/create-update-delete-deployment" target="_blank" rel="noopener noreferrer">例子</a>。<a href="#fnref-7" class="footnote-backref">↩</a></li><li id="fn-8">截止到目前，我们只找到两本包含实现自定义控制器内容的书籍。<a href="#fnref-8" class="footnote-backref">↩</a></li></ol></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--next" href="/crd-controller-from-scratch/docs/apimachinery/apimachinery"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">apimachinery</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#写在前面" class="table-of-contents__link toc-highlight">写在前面</a></li><li><a href="#动机" class="table-of-contents__link toc-highlight">动机</a></li><li><a href="#谁适合阅读本书" class="table-of-contents__link toc-highlight">谁适合阅读本书</a></li><li><a href="#你还能从本书学到什么" class="table-of-contents__link toc-highlight">你还能从本书学到什么</a></li><li><a href="#本书结构" class="table-of-contents__link toc-highlight">本书结构</a></li><li><a href="#本书风格及约定" class="table-of-contents__link toc-highlight">本书风格及约定</a><ul><li><a href="#风格" class="table-of-contents__link toc-highlight">风格</a></li><li><a href="#约定" class="table-of-contents__link toc-highlight">约定</a></li></ul></li><li><a href="#与同类书籍的比较" class="table-of-contents__link toc-highlight">与同类书籍的比较</a></li><li><a href="#局限" class="table-of-contents__link toc-highlight">局限</a></li><li><a href="#扩展阅读" class="table-of-contents__link toc-highlight">扩展阅读</a></li><li><a href="#关于气球" class="table-of-contents__link toc-highlight">关于气球🎈</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Xudong Wang, Under license <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/">CC BY-NC-ND 4.0</a>, Built with Docusaurus.🎈</div></div></div></footer></div>
<script src="/crd-controller-from-scratch/assets/js/runtime~main.56e28771.js"></script>
<script src="/crd-controller-from-scratch/assets/js/main.66bc2718.js"></script>
</body>
</html>